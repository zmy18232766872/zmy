(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{166:function(s,a,e){"use strict";e.r(a);var t=e(0),n=Object(t.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("div",{staticClass:"content"},[e("h1",{attrs:{id:"gulp-前端构建工具"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#gulp-前端构建工具","aria-hidden":"true"}},[s._v("#")]),s._v(" Gulp 前端构建工具")]),s._v(" "),e("p",[e("code",[s._v("Gulp")]),s._v("是一个自动化的前端构建工具，具有一些优点：")]),s._v(" "),e("ul",[e("li",[s._v("易于使用：通过代码优于配置的策略，Gulp 让简单的任务简单，复杂的任务可管理。")]),s._v(" "),e("li",[s._v("构建快速：利用 Node.js 流的威力，你可以快速构建项目并减少频繁的 IO 操作。")]),s._v(" "),e("li",[s._v("高质量的插件：Gulp 严格的插件指南确保插件如你期望的那样简洁高质得工作。")]),s._v(" "),e("li",[s._v("易于学习：通过最少的 API，掌握 Gulp 毫不费力，构建工作尽在掌握：如同一系列流管道。")])]),s._v(" "),e("h3",{attrs:{id:"_1、gulp的安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1、gulp的安装","aria-hidden":"true"}},[s._v("#")]),s._v(" 1、Gulp的安装")]),s._v(" "),e("ul",[e("li",[s._v("1、首先安装nodejs环境")]),s._v(" "),e("li",[s._v("2、全局安装Gulp")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("npm install -g gulp\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[s._v("3、项目中安装gulp\n切换目录到要使用gulp的项目，在命令中执行")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("npm install gulp\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[s._v("4、若想在安装的时候把gulp写进项目package.json中，需要在命令行中加上--save-dev")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("npm install --save-dev gulp\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("对于全局安装gulp后还要在项目内再进行一次gulp安装的原因是为了版本的灵活性。")]),s._v(" "),e("h3",{attrs:{id:"_2、使用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2、使用","aria-hidden":"true"}},[s._v("#")]),s._v(" 2、使用")]),s._v(" "),e("h4",{attrs:{id:"_2-1、创建主文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-1、创建主文件","aria-hidden":"true"}},[s._v("#")]),s._v(" 2.1、创建主文件")]),s._v(" "),e("p",[s._v("创建一个主文件夹，命名为"),e("code",[s._v("gulpfile.js")]),s._v(",同时将该文件放于使用gulp的项目目录中。gulpfile.js文件用于定义我们的任务，以下为一个简单的gulpfile.js文件的示例：")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("var gulp = require('gulp')\ngulp.task('default',function(){\n   console.log('hello world')\n});\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("p",[s._v("此时目录结构为：")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("|--gulpfile.js\n|--node_modules\n|   |--gulp\n|-- package.json\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("h4",{attrs:{id:"_2-2、运行gulp任务"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-2、运行gulp任务","aria-hidden":"true"}},[s._v("#")]),s._v(" 2.2、运行gulp任务")]),s._v(" "),e("p",[s._v("切换到gulpfile.js文件的目录下，执行命令")]),s._v(" "),e("blockquote",[e("p",[s._v("gulp")])]),s._v(" "),e("p",[s._v("如果要执行特定的任务，这执行命令：")]),s._v(" "),e("blockquote",[e("p",[s._v("gulp task")])]),s._v(" "),e("p",[s._v("如果没有指定任务，则执行任务名为default的默认任务。")]),s._v(" "),e("h3",{attrs:{id:"_3、gulp-的api"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3、gulp-的api","aria-hidden":"true"}},[s._v("#")]),s._v(" 3、Gulp 的API")]),s._v(" "),e("p",[s._v("gulp常用的API有4个：")]),s._v(" "),e("ul",[e("li",[s._v("gulp.task()")]),s._v(" "),e("li",[s._v("gulp.src()")]),s._v(" "),e("li",[s._v("gulp.dest()")]),s._v(" "),e("li",[s._v("gulp.watch()")])]),s._v(" "),e("h4",{attrs:{id:"_3-1-gulp-src"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-gulp-src","aria-hidden":"true"}},[s._v("#")]),s._v(" 3.1 gulp.src()")]),s._v(" "),e("p",[s._v("Gulp是以stream为媒介的，它不需要频繁的生成临时文件,\n"),e("code",[s._v("gulp.src()")]),s._v(" 正是用于获取流的。这个流的内容是一个虚拟文件对象流(Vinyl files)，虚拟文件对象中存储着原始文件的路径、文件名、内容等信息。语法为：")]),s._v(" "),e("blockquote",[e("p",[s._v("gulp.src(globs[, options])")])]),s._v(" "),e("ul",[e("li",[e("strong",[s._v("globs")]),s._v("参数是文件匹配模式(类似正则表达式)，用来匹配文件路径(包括文件名)，当然这里也可以直接指定某个具体的文件路径。当有多个匹配模式时，该参数可以为一个数组。")]),s._v(" "),e("li",[e("strong",[s._v("options")]),s._v("为可选参数。通常情况下我们不需要用到。")])]),s._v(" "),e("p",[s._v("gulp匹配具有一定的规则及文件匹配技巧：")]),s._v(" "),e("ul",[e("li",[e("code",[s._v("*")]),s._v("匹配文件路径中的0个或多个字符，但不会匹配路径分隔符，除非路径分隔符出现在末尾")]),s._v(" "),e("li",[e("code",[s._v("**")]),s._v("匹配路径中的0个或多个目录及其子目录,需要单独出现，即它左右不能有其他东西了。如果出现在末尾，也能匹配文件。")]),s._v(" "),e("li",[e("code",[s._v("?")]),s._v(" 匹配文件路径中的一个字符(不会匹配路径分隔符)")]),s._v(" "),e("li",[e("code",[s._v("[...]")]),s._v(" 匹配方括号中出现的字符中的任意一个，当方括号中第一个字符为^或!时，则表示不匹配方括号中出现的其他字符中的任意一个，类似js正则表达式中的用法")]),s._v(" "),e("li",[e("code",[s._v("!(pattern|pattern|pattern)")]),s._v(" 匹配任何与括号中给定的任一模式都不匹配的")]),s._v(" "),e("li",[e("code",[s._v("?(pattern|pattern|pattern)")]),s._v(" 匹配括号中给定的任一模式0次或1次，类似于js正则中的(pattern|pattern|pattern)?")]),s._v(" "),e("li",[e("code",[s._v("+(pattern|pattern|pattern)")]),s._v(" 匹配括号中给定的任一模式至少1次，类似于js正则中的(pattern|pattern|pattern)+")]),s._v(" "),e("li",[e("code",[s._v("*(pattern|pattern|pattern)")]),s._v(" 匹配括号中给定的任一模式0次或多次，类似于js正则中的(pattern|pattern|pattern)*")]),s._v(" "),e("li",[e("code",[s._v("@(pattern|pattern|pattern)")]),s._v(" 匹配括号中给定的任一模式1次，类似于js正则中的(pattern|pattern|pattern)")])]),s._v(" "),e("p",[s._v("有多种匹配模式时可以使用数组：")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("//使用数组的方式来匹配多种文件\ngulp.src(['js/*.js','css/*.css','*.html'])\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("使用数组还可以很方便的使用排除模式，在数组中的单个匹配模式前加上!即是排除模式，在匹配结果中排除这个匹配，但是不能在数组中的第一个元素中使用排除模式。")]),s._v(" "),e("blockquote",[e("p",[s._v("gulp.src(["),e("em",[s._v(".js,'!b")]),s._v(".js']) //匹配所有js文件，但排除掉以b开头的js文件\ngulp.src(['!b*.js',*.js]) //不会排除任何文件，因为排除模式不能出现在数组的第一个元素中")])]),s._v(" "),e("h4",{attrs:{id:"_3-2-gulp-task"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-gulp-task","aria-hidden":"true"}},[s._v("#")]),s._v(" 3.2 gulp.task()")]),s._v(" "),e("p",[e("code",[s._v("gulp.task")]),s._v("方法用来定义任务:")]),s._v(" "),e("blockquote",[e("p",[s._v("gulp.task(name[, deps], fn)")])]),s._v(" "),e("ul",[e("li",[e("strong",[s._v("name")]),s._v(" 为任务名")]),s._v(" "),e("li",[e("strong",[s._v("deps")]),s._v(" 是当前定义的任务需要依赖的其他任务，为一个数组。当前定义的任务会在所有依赖的任务执行完毕后才开始执行。如果没有依赖，则可省略这个参数")]),s._v(" "),e("li",[e("strong",[s._v("fn")]),s._v(" 为任务函数，我们把任务要执行的代码都写在里面。该参数也是可选的。")])]),s._v(" "),e("p",[s._v("定义一个有依赖的任务：")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("gulp.task('mytask', ['array', 'of', 'task', 'names'], function() { \n  // Do something\n});\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[e("code",[s._v("gulp.task()")]),s._v("任务的执行顺序为：当任务相互之间没有依赖时，任务会按照书写的顺序来执行，如果有依赖的话则会先执行依赖的任务（当依赖的任务是同步的）。\n当依赖的任务为异步时，gulp并不会等依赖执行完,而是紧接着执行后续的任务。")]),s._v(" "),e("p",[s._v("如果想要在异步任务执行完再执行后续的任务，有三种方式：")]),s._v(" "),e("p",[e("strong",[s._v("1、异步操作完成时设置回调函数通知gulp异步任务已经完成，此时的回调函数就是任务函数的第一个参数")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("gulp.task('one',function(cb){ //cb为任务函数提供的回调，用来通知任务已经完成\n  //one是一个异步执行的任务\n  setTimeout(function(){\n    console.log('one is done');\n    cb();  //执行回调，表示这个异步任务已经完成\n  },5000);\n});\n\n//这时two任务会在one任务中的异步操作完成后再执行\ngulp.task('two',['one'],function(){\n  console.log('two is done');\n});\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br")])]),e("p",[e("strong",[s._v("2、定义任务时返回一个流对象。适用于任务就是操作gulp.src获取到的流的情况。")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("gulp.task('one',function(cb){\n  var stream = gulp.src('client/**/*.js')\n      .pipe(dosomething()) //dosomething()中有某些异步操作\n      .pipe(gulp.dest('build'));\n    return stream;\n});\n\ngulp.task('two',['one'],function(){\n  console.log('two is done');\n});\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br")])]),e("p",[e("strong",[s._v("3、返回一个promise对象")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("var Q = require('q'); //一个著名的异步处理的库 https://github.com/kriskowal/q\ngulp.task('one',function(cb){\n  var deferred = Q.defer();\n  // 做一些异步操作\n  setTimeout(function() {\n     deferred.resolve();\n  }, 5000);\n  return deferred.promise;\n});\n\ngulp.task('two',['one'],function(){\n  console.log('two is done');\n});\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br")])]),e("h4",{attrs:{id:"_3-3-gulp-dest"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-gulp-dest","aria-hidden":"true"}},[s._v("#")]),s._v(" 3.3 gulp.dest()")]),s._v(" "),e("p",[e("code",[s._v("gulp.src()")]),s._v(" 用于写文件，其语法为：\n语法为：")]),s._v(" "),e("blockquote",[e("p",[s._v("gulp.dest(path[,options])")])]),s._v(" "),e("ul",[e("li",[e("strong",[s._v("path")]),s._v("为写入文件的路径")]),s._v(" "),e("li",[e("strong",[s._v("options")]),s._v("为一个可选的参数对象，通常我们不需要用到")])]),s._v(" "),e("p",[s._v("gulp的"),e("code",[s._v("使用流程")]),s._v("如下：\n首先通过"),e("code",[s._v("gulp.src()")]),s._v("方法获取到我们想要处理的文件流，然后把文件流通过"),e("code",[s._v("pipe")]),s._v("方法导入到gulp的插件中，最后把经过插件处理后的流再通过"),e("code",[s._v("pipe")]),s._v("方法导入到"),e("code",[s._v("gulp.dest()")]),s._v("中，"),e("code",[s._v("gulp.dest()")]),s._v("方法则把流中的内容写入到文件中，这里首先需要弄清楚的一点是，我们给"),e("code",[s._v("gulp.dest()")]),s._v("传入的路径参数，只能用来指定要生成的文件的目录，而不能指定生成文件的文件名，它生成文件的文件名使用的是导入到它的文件流自身的文件名，所以生成的文件名是由导入到它的文件流决定的，即使我们给它传入一个带有文件名的路径参数，然后它也会把这个文件名当做是目录名，例如：")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("var gulp = require('gulp');\ngulp.src('script/jquery.js')\n    .pipe(gulp.dest('dist/foo.js'));\n//最终生成的文件路径为 dist/foo.js/jquery.js,而不是dist/foo.js\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("p",[s._v("生成的文件与传入"),e("code",[s._v("gulp.dest()")]),s._v("的参数有一定的联系，"),e("code",[s._v("gulp.dest(path)")]),s._v("生成的文件路径是我们传入的path参数后面再加上"),e("code",[s._v("gulp.src()")]),s._v("中有通配符开始出现的那部分路径。")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("var gulp = reruire('gulp');\n//有通配符开始出现的那部分路径为 **/*.js\ngulp.src('script/**/*.js')\n    .pipe(gulp.dest('dist')); //最后生成的文件路径为 dist/**/*.js\n//如果 **/*.js 匹配到的文件为 jquery/jquery.js ,则生成的文件路径为 dist/jquery/jquery.js\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("p",[s._v("通过指定"),e("code",[s._v("gulp.src()")]),s._v("方法配置参数中的"),e("code",[s._v("base")]),s._v("属性，我们可以更灵活的来改变"),e("code",[s._v("gulp.dest()")]),s._v("生成的文件路径。\n当我们没有在"),e("code",[s._v("gulp.src()")]),s._v("方法中配置"),e("code",[s._v("base")]),s._v("属性时，"),e("code",[s._v("base")]),s._v("的默认值为通配符开始出现之前那部分路径，例如：")]),s._v(" "),e("blockquote",[e("p",[s._v("gulp.src('app/src/**/*.css') //此时base的值为 app/src")])]),s._v(" "),e("p",[s._v("实际上，"),e("code",[s._v("gulp.dest()")]),s._v("所生成的文件路径的规则，其实也可以理解成，用我们给"),e("code",[s._v("gulp.dest()")]),s._v("传入的路径替换掉"),e("code",[s._v("gulp.src()")]),s._v("中的"),e("code",[s._v("base")]),s._v("路径，最终得到生成文件的路径。")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("gulp.src('app/src/**/*.css') //此时base的值为app/src,也就是说它的base路径为app/src\n     //设该模式匹配到了文件 app/src/css/normal.css\n    .pipe(gulp.dest('dist')) //用dist替换掉base路径，最终得到 dist/css/normal.css\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[s._v("所以改变base路径后，gulp.dest()生成的文件路径也会改变")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("gulp.src(script/lib/*.js) //没有配置base参数，此时默认的base路径为script/lib\n    //假设匹配到的文件为script/lib/jquery.js\n    .pipe(gulp.dest('build')) //生成的文件路径为 build/jquery.js\n\ngulp.src(script/lib/*.js, {base:'script'}) //配置了base参数，此时base路径为script\n    //假设匹配到的文件为script/lib/jquery.js\n    .pipe(gulp.dest('build')) //此时生成的文件路径为 build/lib/jquery.js    \n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("p",[s._v("用"),e("code",[s._v("gulp.dest()")]),s._v("把文件流写入文件后，文件流仍然可以继续使用")]),s._v(" "),e("h4",{attrs:{id:"_3-4-gulp-watch"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-gulp-watch","aria-hidden":"true"}},[s._v("#")]),s._v(" 3.4 gulp.watch()")]),s._v(" "),e("p",[e("code",[s._v("gulp.watch()")]),s._v("用来监视文件的变化，当文件发生变化后，我们可以利用它来执行相应的任务，例如文件压缩等.")]),s._v(" "),e("blockquote",[e("p",[s._v("gulp.watch(glob[, opts], tasks)")])]),s._v(" "),e("p",[e("strong",[s._v("glob")]),s._v(" 为要监视的文件匹配模式，规则和用法与"),e("code",[s._v("gulp.src()")]),s._v("方法中的"),e("code",[s._v("glob")]),s._v("相同。\n"),e("strong",[s._v("opts")]),s._v(" 为一个可选的配置对象，通常不需要用到\n"),e("strong",[s._v("tasks")]),s._v(" 为文件变化后要执行的任务，为一个数组")]),s._v(" "),e("p",[s._v("另一种使用方式为：")]),s._v(" "),e("blockquote",[e("p",[s._v("gulp.watch(glob[, opts, cb])")])]),s._v(" "),e("p",[e("strong",[s._v("glob")]),s._v(" 和 "),e("strong",[s._v("opts")]),s._v(" 参数与第一种用法相同\n"),e("strong",[s._v("cb")]),s._v(" 为一个函数。每当监视的文件发生变化时，就会调用这个函数,并且会给它传入一个对象，该对象包含了文件变化的一些信息，type属性为变化的类型，可以是added,changed,deleted；path属性为发生变化的文件的路径")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("gulp.watch('js/**/*.js', function(event){\n    console.log(event.type); //变化类型 added为新增,deleted为删除，changed为改变 \n    console.log(event.path); //变化的文件的路径\n}); \n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("h3",{attrs:{id:"_4、常用插件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4、常用插件","aria-hidden":"true"}},[s._v("#")]),s._v(" 4、常用插件")]),s._v(" "),e("h4",{attrs:{id:"_4-1-自动加载插件-gulp-load-plugins"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-自动加载插件-gulp-load-plugins","aria-hidden":"true"}},[s._v("#")]),s._v(" 4.1 自动加载插件(gulp-load-plugins)")]),s._v(" "),e("p",[s._v("命令：")]),s._v(" "),e("blockquote",[e("p",[s._v("npm install --save-dev gulp-load-plugins")])]),s._v(" "),e("h4",{attrs:{id:"_4-2-重命名-gulp-rename"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-重命名-gulp-rename","aria-hidden":"true"}},[s._v("#")]),s._v(" 4.2 重命名(gulp-rename)")]),s._v(" "),e("p",[s._v("命令：")]),s._v(" "),e("blockquote",[e("p",[s._v("npm install --save-dev gulp-rename")])]),s._v(" "),e("h4",{attrs:{id:"_4-3-js文件压缩-gulp-uglify"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-js文件压缩-gulp-uglify","aria-hidden":"true"}},[s._v("#")]),s._v(" 4.3 js文件压缩(gulp-uglify)")]),s._v(" "),e("p",[s._v("命令：")]),s._v(" "),e("blockquote",[e("p",[s._v("npm install --save-dev gulp-uglify")])]),s._v(" "),e("h4",{attrs:{id:"_4-4-css文件压缩-gulp-minify-css"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-css文件压缩-gulp-minify-css","aria-hidden":"true"}},[s._v("#")]),s._v(" 4.4 css文件压缩(gulp-minify-css)")]),s._v(" "),e("p",[s._v("命令：")]),s._v(" "),e("blockquote",[e("p",[s._v("npm install --save-dev gulp-minify-css")])]),s._v(" "),e("h4",{attrs:{id:"_4-5-html文件压缩-gulp-minify-html"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-5-html文件压缩-gulp-minify-html","aria-hidden":"true"}},[s._v("#")]),s._v(" 4.5 html文件压缩(gulp-minify-html)")]),s._v(" "),e("p",[s._v("命令：")]),s._v(" "),e("blockquote",[e("p",[s._v("npm install --save-dev gulp-minify-html")])]),s._v(" "),e("h4",{attrs:{id:"_4-6-js代码检查-gulp-jshint"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-6-js代码检查-gulp-jshint","aria-hidden":"true"}},[s._v("#")]),s._v(" 4.6 js代码检查(gulp-jshint)")]),s._v(" "),e("p",[s._v("命令：")]),s._v(" "),e("blockquote",[e("p",[s._v("npm install --save-dev gulp-jshint")])]),s._v(" "),e("h4",{attrs:{id:"_4-7-文件合并-gulp-concat"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-7-文件合并-gulp-concat","aria-hidden":"true"}},[s._v("#")]),s._v(" 4.7 文件合并(gulp-concat)")]),s._v(" "),e("p",[s._v("命令：")]),s._v(" "),e("blockquote",[e("p",[s._v("npm install --save-dev gulp-concat")])]),s._v(" "),e("h4",{attrs:{id:"_4-8-less-和-sass-编译-gulp-less-gulp-sass"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-8-less-和-sass-编译-gulp-less-gulp-sass","aria-hidden":"true"}},[s._v("#")]),s._v(" 4.8 less 和 sass 编译(gulp-less/gulp-sass)")]),s._v(" "),e("p",[s._v("命令：")]),s._v(" "),e("blockquote",[e("p",[s._v("npm install --save-dev gulp-less")])]),s._v(" "),e("blockquote",[e("p",[s._v("npm install --save-dev gulp-sass")])]),s._v(" "),e("h4",{attrs:{id:"_4-9-图片压缩-gulp-imagemin"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-9-图片压缩-gulp-imagemin","aria-hidden":"true"}},[s._v("#")]),s._v(" 4.9 图片压缩(gulp-imagemin)")]),s._v(" "),e("p",[s._v("命令：")]),s._v(" "),e("blockquote",[e("p",[s._v("npm install --save-dev gulp-imagemin")])]),s._v(" "),e("h4",{attrs:{id:"_4-10-自动刷新（gulp-livereload）"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-10-自动刷新（gulp-livereload）","aria-hidden":"true"}},[s._v("#")]),s._v(" 4.10 自动刷新（gulp-livereload）")]),s._v(" "),e("p",[s._v("命令：")]),s._v(" "),e("blockquote",[e("p",[s._v("npm install --save-dev gulp-livereload")])])])}],!1,null,null,null);n.options.__file="gulp.md";a.default=n.exports}}]);