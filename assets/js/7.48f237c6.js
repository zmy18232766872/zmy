(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{173:function(s,a,e){"use strict";e.r(a);var n=e(0),t=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("div",{staticClass:"content"},[e("h1",{attrs:{id:"webpack4-vue2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#webpack4-vue2","aria-hidden":"true"}},[s._v("#")]),s._v(" webpack4 + vue2")]),s._v(" "),e("h4",{attrs:{id:"webpack4以上对webpack-和-webpack-cli-进行了拆分"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#webpack4以上对webpack-和-webpack-cli-进行了拆分","aria-hidden":"true"}},[s._v("#")]),s._v(" webpack4以上对webpack 和 webpack-cli 进行了拆分")]),s._v(" "),e("p",[s._v("需要同时安装webpack和webpack-cli，命令：")]),s._v(" "),e("blockquote",[e("p",[s._v("npm install webpack webpack-cli --save-dev")])]),s._v(" "),e("h4",{attrs:{id:"webpack4新增了mode"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#webpack4新增了mode","aria-hidden":"true"}},[s._v("#")]),s._v(" webpack4新增了mode")]),s._v(" "),e("p",[s._v("可以在命令行中输入 "),e("code",[s._v("npx webpack --mode=production")]),s._v(",或者在webpack.config.js配置文件中进行配置："),e("code",[s._v("mode:production")]),s._v("。")]),s._v(" "),e("ul",[e("li",[s._v("在mode模式下，会自动注入process.env.NODE_ENV变量，在不同的环境下执行不同的操作")]),s._v(" "),e("li",[s._v("webpack4以下需要进行配置")])]),s._v(" "),e("p",[s._v("可针对不同环境进行不同操作")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("//判断是线上环境还是开发环境\nif(process.env.NODE_ENV === 'production'){\n    console.log('This is production mode!')\n} else {\n    console.log('This is development mode!')\n}\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])]),e("h3",{attrs:{id:"配置webpack4"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置webpack4","aria-hidden":"true"}},[s._v("#")]),s._v(" 配置webpack4")]),s._v(" "),e("h4",{attrs:{id:"_1、安装依赖"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1、安装依赖","aria-hidden":"true"}},[s._v("#")]),s._v(" 1、安装依赖")]),s._v(" "),e("blockquote",[e("p",[s._v("npm init")])]),s._v(" "),e("h4",{attrs:{id:"_2、安装webpack-cli"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2、安装webpack-cli","aria-hidden":"true"}},[s._v("#")]),s._v(" 2、安装webpack-cli")]),s._v(" "),e("blockquote",[e("p",[s._v("npm add webpack webpack-cli")])]),s._v(" "),e("p",[s._v("添加webpack、webpack-cli。")]),s._v(" "),e("p",[e("code",[s._v("webpack4以上")]),s._v("对"),e("code",[s._v("webpack")]),s._v("和"),e("code",[s._v("webpack-cli")]),s._v("进行了拆分，所以需要同时安装webpack和webpack-cli。")]),s._v(" "),e("h4",{attrs:{id:"_3、新建index-html"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3、新建index-html","aria-hidden":"true"}},[s._v("#")]),s._v(" 3、新建index.html")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <meta http-equiv="X-UA-Compatible" content="ie=edge">\n    <title>webpack v4</title>\n</head>\n<body>\n    <div id="root"></div>\n    <script src="dist/main.js"><\/script>\n</body>\n</html>\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br")])]),e("h4",{attrs:{id:"_4、新建src文件夹，在文件夹下创建index-js文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4、新建src文件夹，在文件夹下创建index-js文件","aria-hidden":"true"}},[s._v("#")]),s._v(" 4、新建src文件夹，在文件夹下创建index.js文件")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("console.log('hello webpack v4');\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h4",{attrs:{id:"_5、打包"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5、打包","aria-hidden":"true"}},[s._v("#")]),s._v(" 5、打包")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("//终端执行\nwebpack\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("在命令行中直接输入webpack执行的是"),e("code",[s._v("全局webpack")]),s._v("，在项目环境中执行可以使用"),e("code",[s._v("npx webpack")]),s._v(" 或者在"),e("code",[s._v("package.json")]),s._v("中配置命令行")]),s._v(" "),e("h5",{attrs:{id:"打包结果"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#打包结果","aria-hidden":"true"}},[s._v("#")]),s._v(" 打包结果")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/8/23/16564b7dce1cea76?w=1142&h=542&f=png&s=128979",alt:""}})]),s._v(" "),e("p",[s._v("打包后文件夹中新增一个dist文件夹，包含main.js文件，此时的main.js是已经被打包压缩过的。但是终端会有一个WARNING，提示没有设置mode,将会以使用production：")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/8/23/16564c73e84c9e3f?w=1136&h=218&f=png&s=50274",alt:""}})]),s._v(" "),e("p",[s._v("下面就是配置mode。")]),s._v(" "),e("h4",{attrs:{id:"_6、在package-json中配置mode"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6、在package-json中配置mode","aria-hidden":"true"}},[s._v("#")]),s._v(" 6、在package.json中配置mode")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('{\n  "name": "",\n  "version": "",\n  "dependencies": {\n    "webpack": "^4.17.1",\n    "webpack-cli": "^3.1.0"\n  },\n  "scripts":{\n    "start":"--mode development",\n    "build": "--mode production"\n \t}\n}\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br")])]),e("p",[s._v("其中start设置为开发模式，build为生产环境（压缩）")]),s._v(" "),e("h4",{attrs:{id:"_7、再次打包"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_7、再次打包","aria-hidden":"true"}},[s._v("#")]),s._v(" 7、再次打包")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("//终端\nnpm start //开发模式\nnpm build //生产环境\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h4",{attrs:{id:"_8、配置webpack-dev-server"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_8、配置webpack-dev-server","aria-hidden":"true"}},[s._v("#")]),s._v(" 8、配置webpack-dev-server")]),s._v(" "),e("p",[s._v("配置webpack-dev-server自动打开浏览器，终端执行下述命令，添加webpack-dev-server")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("npm add webpack-dev-server\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("修改index.html")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('<script src="main.js"><\/script>\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[e("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/8/23/16564d53ad0cb1f5?w=860&h=240&f=png&s=69056",alt:""}})]),s._v(" "),e("p",[s._v("修改package.json")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('"scripts": {\n    "start": "webpack-dev-server --mode development --open",\n    "build": "webpack --mode production"\n}\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("p",[s._v("再执行命令进行打包,此时发现浏览器自动打开：")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("npm start\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h4",{attrs:{id:"_9、添加vue"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_9、添加vue","aria-hidden":"true"}},[s._v("#")]),s._v(" 9、添加vue")]),s._v(" "),e("p",[s._v("添加vue依赖")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("npm add vue\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[e("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/8/23/16564d71296a766b?w=820&h=242&f=png&s=61479",alt:""}})]),s._v(" "),e("p",[s._v("在src下面新建文件夹pages,在pages里面新建app.vue文件。")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('<template>\n  <section class="main">\n    <p>Here is {{name}}</p>\n  </section>\n</template>\n \n<script>\nexport default {\n  data () {\n    return {\n        name:"vue + webpack"\n    }\n  }\n}\n<\/script>\n \n<style>\n.main > p{\n  color: #000;\n}\n</style>\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br")])]),e("p",[s._v("修改index.js")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("import Vue from 'vue'\nimport App from './pages/app.vue'\n \nnew Vue({\n  el:\"#root\",\n  render:h=>h(App)\n})\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("p",[s._v("执行命令："),e("code",[s._v("npm start")]),s._v("\n会发现有错误：")]),s._v(" "),e("h5",{attrs:{id:"错误-1"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#错误-1","aria-hidden":"true"}},[s._v("#")]),s._v(" 错误 1")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/8/23/16564dda66a5c042?w=990&h=332&f=png&s=69793",alt:""}})]),s._v(" "),e("p",[s._v("提示模块解析失败，需要一个加载程序来处理这个文件类型。")]),s._v(" "),e("h5",{attrs:{id:"解决-1"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#解决-1","aria-hidden":"true"}},[s._v("#")]),s._v(" 解决 1")]),s._v(" "),e("ul",[e("li",[s._v("安装vue-loader")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("npm add vue-loader\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[s._v("新建一个webpack.config.js文件")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("module.exports = {\n    module:{\n        rules:[\n            {test:/\\.vue$/,use:'vue-loader'}\n        ]\n    }\n}\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("p",[s._v("vue-loader在15之后需要在webpack.config.js中当插件引入,完整的如下("),e("code",[s._v("注意")]),s._v("：css这个必须引入，不然在.vue文件使用样式会报错)")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("const path = require('path')\nconst VueLoaderPlugin = require('vue-loader/lib/plugin')\n \nmodule.exports = {\n  mode: 'development',\n  module: {\n    rules: [\n      {\n        test: /\\.vue$/,\n        loader: 'vue-loader'\n      },\n      // 它会应用到普通的 `.js` 文件\n      // 以及 `.vue` 文件中的 `<script>` 块\n      {\n        test: /\\.js$/,\n        loader: 'babel-loader'\n      },\n      // 它会应用到普通的 `.css` 文件\n      // 以及 `.vue` 文件中的 `<style>` 块\n      {\n        test: /\\.css$/,\n        use: [\n          'vue-style-loader',\n          'css-loader'\n        ]\n      }\n    ]\n  },\n  plugins: [\n    // 请确保引入这个插件来施展魔法\n    new VueLoaderPlugin()\n  ]\n}\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br"),e("span",{staticClass:"line-number"},[s._v("27")]),e("br"),e("span",{staticClass:"line-number"},[s._v("28")]),e("br"),e("span",{staticClass:"line-number"},[s._v("29")]),e("br"),e("span",{staticClass:"line-number"},[s._v("30")]),e("br"),e("span",{staticClass:"line-number"},[s._v("31")]),e("br"),e("span",{staticClass:"line-number"},[s._v("32")]),e("br"),e("span",{staticClass:"line-number"},[s._v("33")]),e("br")])]),e("p",[s._v("再次执行命令："),e("code",[s._v("npm start")]),s._v("，发现还是报错")]),s._v(" "),e("h5",{attrs:{id:"错误-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#错误-2","aria-hidden":"true"}},[s._v("#")]),s._v(" 错误 2")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/8/23/165658a60e4330bc?w=1140&h=352&f=png&s=99061",alt:""}})]),s._v(" "),e("p",[s._v("提示babel-loader找不到，因此安装babel-loader")]),s._v(" "),e("h5",{attrs:{id:"解决-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#解决-2","aria-hidden":"true"}},[s._v("#")]),s._v(" 解决 2")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("npm add babel-loader\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("其余的问题也是，提示哪个module不存在就安装哪个，命令是：")]),s._v(" "),e("blockquote",[e("p",[s._v("npm add ...")])]),s._v(" "),e("h4",{attrs:{id:"错误-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#错误-3","aria-hidden":"true"}},[s._v("#")]),s._v(" 错误 3")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/8/23/165659076bf2cdbc?w=1128&h=266&f=png&s=58674",alt:""}}),s._v("\n提示css-loader不存在")]),s._v(" "),e("h5",{attrs:{id:"解决-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#解决-3","aria-hidden":"true"}},[s._v("#")]),s._v(" 解决 3")]),s._v(" "),e("blockquote",[e("p",[s._v("npm add css-loader")])]),s._v(" "),e("p",[s._v("执行了一系列add 或者install操作后，再执行：npm start，此时页面显示如下：\n"),e("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/8/23/165659f72c8f9cb9?w=878&h=374&f=png&s=37015",alt:""}})]),s._v(" "),e("p",[s._v("此时，webpack4+vue2项目搭建完成，但是还有一些需要优化的点。")]),s._v(" "),e("h4",{attrs:{id:"从js中分离css"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#从js中分离css","aria-hidden":"true"}},[s._v("#")]),s._v(" 从js中分离css")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/8/23/16565a3d689bfe71?w=1302&h=638&f=png&s=130939",alt:""}})]),s._v(" "),e("p",[s._v("查看网页代码发现样式被塞进了head内，我们如果要将css代码分离出来需要安装extract-text-webpack-plugin@next插件")]),s._v(" "),e("blockquote",[e("p",[s._v("npm add extract-text-webpack-plugin@next")])]),s._v(" "),e("p",[s._v("安装后需要在webpack.config.js中进行配置：")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("//引入插件\nconst ExtractTextWebapckPlugin = require('extract-text-webpack-plugin'); \n\nmodule.exports = {\n    module:{\n        rules:[\n            { \n                test: /\\.vue$/, \n                loader: 'vue-loader',\n                options: { \n                    loaders: { \n                        css: ExtractTextWebapckPlugin.extract({ use: 'css-loader' }) \n                    }\n                }\n            }\n        ]\n    },\n    plugins:[\n        new ExtractTextWebapckPlugin('style.css')\n    ]\n}\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br")])]),e("p",[s._v("执行命令：")]),s._v(" "),e("blockquote",[e("p",[s._v("npm run build\n在dist文件夹下出现main.js和style.css文件")])]),s._v(" "),e("h4",{attrs:{id:"处理图片"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#处理图片","aria-hidden":"true"}},[s._v("#")]),s._v(" 处理图片")]),s._v(" "),e("p",[s._v("新建一个img文件夹来存放图片")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('<template>\n  <section class="main">\n    <p>Here is {{name}}</p>\n    <img src="../img/1.jpg" alt="">\n  </section>\n</template>\n \n<script>\nexport default {\n  data () {\n    return {\n        name:"vue + webpack"\n    }\n  }\n}\n<\/script>\n \n<style>\n.main > p{\n  color: #000;\n}\n</style>\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br")])]),e("p",[s._v("当执行 npm start 后，发现终端报错：")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2019/1/28/168927b01c694fb9?w=1680&h=506&f=png&s=643880",alt:""}})]),s._v(" "),e("p",[s._v("不能处理图片，因此安装处理图片的相关loader。")]),s._v(" "),e("blockquote",[e("p",[s._v("npm add file-loader url-loader")])]),s._v(" "),e("p",[s._v("其次修改 webpack.config.js 配置文件：")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("...\nrule:[\n    ...\n    { \n        test: /\\.(png|jpg|gif)$/, \n        use: [{ loader: 'url-loader',options: { limit: 8192 } }] \n    }\n    ...\n]\n...\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br")])]),e("p",[s._v("执行npm start后也会将图片文件进行打包：")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2019/1/28/168927bfd179ba99?w=1682&h=550&f=png&s=649929",alt:""}})]),s._v(" "),e("h4",{attrs:{id:"处理es6、es7语法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#处理es6、es7语法","aria-hidden":"true"}},[s._v("#")]),s._v(" 处理ES6、ES7语法")]),s._v(" "),e("p",[s._v("安装相关依赖包")]),s._v(" "),e("blockquote",[e("p",[s._v("npm install babel-core babel-loader babel-preset-env babel-preset-latest --save-dev")])]),s._v(" "),e("p",[s._v("并在webpack.config.js文件中进行配置：")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2019/1/28/168927c9dfbe4e04?w=1180&h=576&f=png&s=274031",alt:""}})])])}],!1,null,null,null);t.options.__file="webpack-vue2.md";a.default=t.exports}}]);